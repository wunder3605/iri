\IncMargin{1em}
\begin{algorithm}
\SetKwData{Left}{left}\SetKwData{This}{this}\SetKwData{Up}{up}
\SetKwFunction{Union}{Union}\SetKwFunction{FindCompress}{FindCompress}
\SetKwInOut{Input}{input}\SetKwInOut{Output}{output}

\KwIn{ Graph $G=<B, g, P, E>$ }

    \While {Node is running}{
        \uIf{Received or Generate block $b$}{
            $h \gets Hash(b)$ \;
            $cache[h] \gets b$ \;
            Broadcast $h$ to neighbors \;
        } 

        \uIf{Received request of $h$ from neighbor $n$ }{
            $b \gets cache[h]$ \;
            Send $b$ to $n$ \;
        } 

        \uIf{Received hash $h$ from neighbor $n$}{
            $b \gets cache[h]$ \;
            \uIf{ $b = NULL $ } {  
                Send request $h$ to $n$ \;
            }
        } 
    }

\caption{{ Gossip Algorithm.}}
\label{algo:gossip}
\end{algorithm}
\DecMargin{1em}
